export const state = () => ({
  catalog: [
    {
      name: 'Наименование товара',
      photo: 'https://lh4.googleusercontent.com/zC0LXvQiIJRFuUrwZRa_AOH0RcS7Y8Uj9djp4VGZ-Z-ePYSFNMh29TQ-jXJjsf5v7BLOa6QtJpFL9DQdQaK-YRhGRtkBfDm2u84_23yOuGocOXGVWhxW62MILj3PDtM5pxs8h2TM',
      description: 'Довольно-таки интересное описание товара в несколько строк. Довольно-таки интересное описание товара в несколько строк',
      article: 4563456,
      price: '10000'
    },
    {
      name: 'Наименование товара',
      photo: 'https://lh4.googleusercontent.com/zC0LXvQiIJRFuUrwZRa_AOH0RcS7Y8Uj9djp4VGZ-Z-ePYSFNMh29TQ-jXJjsf5v7BLOa6QtJpFL9DQdQaK-YRhGRtkBfDm2u84_23yOuGocOXGVWhxW62MILj3PDtM5pxs8h2TM',
      description: 'Довольно-таки интересное описание товара в несколько строк. Довольно-таки интересное описание товара в несколько строк',
      article: 7685463,
      price: '10000'
    },
    {
      name: 'Наименование товара',
      photo: 'https://lh4.googleusercontent.com/zC0LXvQiIJRFuUrwZRa_AOH0RcS7Y8Uj9djp4VGZ-Z-ePYSFNMh29TQ-jXJjsf5v7BLOa6QtJpFL9DQdQaK-YRhGRtkBfDm2u84_23yOuGocOXGVWhxW62MILj3PDtM5pxs8h2TM',
      description: 'Довольно-таки интересное описание товара в несколько строк. Довольно-таки интересное описание товара в несколько строк',
      article: 654125,
      price: '10000'
    },
    {
      name: 'Наименование товара',
      photo: 'https://lh4.googleusercontent.com/zC0LXvQiIJRFuUrwZRa_AOH0RcS7Y8Uj9djp4VGZ-Z-ePYSFNMh29TQ-jXJjsf5v7BLOa6QtJpFL9DQdQaK-YRhGRtkBfDm2u84_23yOuGocOXGVWhxW62MILj3PDtM5pxs8h2TM',
      description: 'Довольно-таки интересное описание товара в несколько строк. Довольно-таки интересное описание товара в несколько строк',
      article: 98765412,
      price: '10000'
    },
    {
      name: 'Наименование товара',
      photo: 'https://lh4.googleusercontent.com/zC0LXvQiIJRFuUrwZRa_AOH0RcS7Y8Uj9djp4VGZ-Z-ePYSFNMh29TQ-jXJjsf5v7BLOa6QtJpFL9DQdQaK-YRhGRtkBfDm2u84_23yOuGocOXGVWhxW62MILj3PDtM5pxs8h2TM',
      description: 'Довольно-таки интересное описание товара в несколько строк. Довольно-таки интересное описание товара в несколько строк',
      article: 8521654,
      price: '10000'
    },
    {
      name: 'Наименование товара',
      photo: 'https://lh4.googleusercontent.com/zC0LXvQiIJRFuUrwZRa_AOH0RcS7Y8Uj9djp4VGZ-Z-ePYSFNMh29TQ-jXJjsf5v7BLOa6QtJpFL9DQdQaK-YRhGRtkBfDm2u84_23yOuGocOXGVWhxW62MILj3PDtM5pxs8h2TM',
      description: 'Довольно-таки интересное описание товара в несколько строк. Довольно-таки интересное описание товара в несколько строк',
      article: 8798451,
      price: '10000'
    },
    {
      name: 'Наименование товара',
      photo: 'https://lh4.googleusercontent.com/zC0LXvQiIJRFuUrwZRa_AOH0RcS7Y8Uj9djp4VGZ-Z-ePYSFNMh29TQ-jXJjsf5v7BLOa6QtJpFL9DQdQaK-YRhGRtkBfDm2u84_23yOuGocOXGVWhxW62MILj3PDtM5pxs8h2TM',
      description: 'Довольно-таки интересное описание товара в несколько строк. Довольно-таки интересное описание товара в несколько строк',
      article: 32165464,
      price: '10000'
    },
    {
      name: 'Наименование товара',
      photo: 'https://lh4.googleusercontent.com/zC0LXvQiIJRFuUrwZRa_AOH0RcS7Y8Uj9djp4VGZ-Z-ePYSFNMh29TQ-jXJjsf5v7BLOa6QtJpFL9DQdQaK-YRhGRtkBfDm2u84_23yOuGocOXGVWhxW62MILj3PDtM5pxs8h2TM',
      description: 'Довольно-таки интересное описание товара в несколько строк. Довольно-таки интересное описание товара в несколько строк',
      article: 51515181,
      price: '10000'
    },
    {
      name: 'Наименование товара',
      photo: 'https://lh4.googleusercontent.com/zC0LXvQiIJRFuUrwZRa_AOH0RcS7Y8Uj9djp4VGZ-Z-ePYSFNMh29TQ-jXJjsf5v7BLOa6QtJpFL9DQdQaK-YRhGRtkBfDm2u84_23yOuGocOXGVWhxW62MILj3PDtM5pxs8h2TM',
      description: 'Довольно-таки интересное описание товара в несколько строк. Довольно-таки интересное описание товара в несколько строк',
      article: 5487485121,
      price: '10000'
    },
    {
      name: 'Наименование товара',
      photo: 'https://lh4.googleusercontent.com/zC0LXvQiIJRFuUrwZRa_AOH0RcS7Y8Uj9djp4VGZ-Z-ePYSFNMh29TQ-jXJjsf5v7BLOa6QtJpFL9DQdQaK-YRhGRtkBfDm2u84_23yOuGocOXGVWhxW62MILj3PDtM5pxs8h2TM',
      description: 'Довольно-таки интересное описание товара в несколько строк. Довольно-таки интересное описание товара в несколько строк',
      article: 48151321,
      price: '10000'
    },
    {
      name: 'Наименование товара',
      photo: 'https://lh4.googleusercontent.com/zC0LXvQiIJRFuUrwZRa_AOH0RcS7Y8Uj9djp4VGZ-Z-ePYSFNMh29TQ-jXJjsf5v7BLOa6QtJpFL9DQdQaK-YRhGRtkBfDm2u84_23yOuGocOXGVWhxW62MILj3PDtM5pxs8h2TM',
      description: 'Довольно-таки интересное описание товара в несколько строк. Довольно-таки интересное описание товара в несколько строк',
      article: 848165213,
      price: '10000'
    },
    {
      name: 'Наименование товара',
      photo: 'https://lh4.googleusercontent.com/zC0LXvQiIJRFuUrwZRa_AOH0RcS7Y8Uj9djp4VGZ-Z-ePYSFNMh29TQ-jXJjsf5v7BLOa6QtJpFL9DQdQaK-YRhGRtkBfDm2u84_23yOuGocOXGVWhxW62MILj3PDtM5pxs8h2TM',
      description: 'Довольно-таки интересное описание товара в несколько строк. Довольно-таки интересное описание товара в несколько строк',
      article: 21321511,
      price: '10000'
    }
  ]
})

export const actions = {
  reloadStorage () {
    localStorage.removeItem('catalog')
    localStorage.setItem('catalog', JSON.stringify(state.catalog))
  }
}

export const mutations = {
  addNewCatalogItem (state, item) {
    // console.log(item)
    state.catalog.unshift(item)
    localStorage.removeItem('catalog')
    localStorage.setItem('catalog', JSON.stringify(state.catalog))
  },
  sortCatalog (state, sortVariable) {
    if (sortVariable === 'default') {
      state.catalog.sort(function (a, b) {
        return a.price - b.price
      })
    } else if (sortVariable === 'high-to-low') {
      state.catalog.sort(function (a, b) {
        return b.price - a.price
      })
    } else if (sortVariable === 'low-to-high') {
      state.catalog.sort(function (a, b) {
        return a.price - b.price
      })
    } else if (sortVariable === 'a-z') {
      state.catalog.sort(function (a, b) {
        return a.name.localeCompare(b.name)
      })
    } else if (sortVariable === 'z-a') {
      state.catalog.sort(function (a, b) {
        return b.name.localeCompare(a.name)
      })
    }
  },
  deleteItem (state, article) {
    const catalogArr = state.catalog
    catalogArr.forEach((el) => {
      if (el.article === article) {
        const elementIndex = catalogArr.indexOf(el)
        catalogArr.splice(elementIndex, 1)
        localStorage.removeItem('catalog')
      }
    })
  },
  saveCatalogToLocalStorage (state) {
    if (localStorage.getItem('catalog') == null) {
      // this.reloadStorage()
      localStorage.removeItem('catalog')
      localStorage.setItem('catalog', JSON.stringify(state.catalog))
    }
  },
  setLocalStorage (state, array) {
    state.catalog = array
  }
}
